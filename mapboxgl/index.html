<html>
  <head>
    <title>Mabbox Demo</title>
    <script src="https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.20/lodash.min.js"></script>
    <link
      href="https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css"
      rel="stylesheet"
    />

    <style>
      body {
        max-width: 1200px;
        font-family: Arial, Helvetica, sans-serif;
      }
      .row {
        display: flex;
      }
      #side-panel {
        flex-shrink: 4;
        padding: 15px;
      }
      dt {
        font-weight: bolder;
      }
      dd {
        margin-left: 0;
      }
      .cat-marker {
        background-image: url("cat.svg");
        background-size: cover;
        width: 50px;
        height: 50px;
      }
    </style>
  </head>
  <body>
    <div class="row">
      <div id="map" style="width: 700px; height: 500px;"></div>
      <div id="side-panel">
        <form>
          <fieldset id="route-filter">
            <legend>Show busses with route #</legend>
          </fieldset>
        </form>
        Notes:
        <ul>
          <li>
            <b
              >The browser site settings need to allow mixed content for this
              demo to work with the updating data via a CORS proxy.
            </b>
            <a
              href="https://docs.adobe.com/content/help/en/target/using/experiences/vec/troubleshoot-composer/mixed-content.html"
              >Instructions to enable mixed-content</a
            >
          </li>
          <li>
            The free CORS proxy for the data feed is slow and inconsistent.
            <b>Please be patient to see the data load in the map.</b>
          </li>
          <li>
            Because there are restrictions on how much one can use the CORS
            proxy server, the bus locations will only be updated 3 times. The
            data feed updates once per minute.
          </li>
          <li>
            For time management, I am not going to spend time proving that I can
            implement a loading indicator, or CORS proxy server. To tell if the
            data response has come through, dev tools' network tab can be
            checked.
          </li>
        </ul>
      </div>
    </div>

    <script src="demo.js" type="module"></script>
  </body>
</html>
